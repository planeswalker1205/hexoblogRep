# SSM

1. 重命名项目文件导致tomcat中的web地址和更名后的地址不匹配
2. web.xml配置中application.xml中的xml没有写
3. mapper.xml文件中的javaType类型写错写反
4. Rest风格参数

```
<a href="test/4.form">访问</a>

------------------------------

RequestMapping("/test/arg")
//返回值
ModelAndView mav = new ModelAndView();
mav.setViewName("/main.jsp");
return mav;
```

返回的页面名前加个斜杠（最好无论是不是rest风格化参数都加个斜杠）

5. mybatis中resultmap通常需要在mapper.xml中定义resultMap进行pojo和相应表字段的对应。resultType：对于SQL语句查询出的字段在相应pojo中必须有和它相同的字段对应，而resultType中的内容就是pojo在本项目中的位置

## easyui

easyui中获取页面表单的值，

```
<input type="text" id="one"/>
<script>
buttons:[
    {
        text:"确定",
        handler:function(){
            var text = $("#one).val();
            alert("text");
        }
    }
]
</script>
```

这里获取表单的值text如果写在全局变量，且在此之前表单中并没有值需要自己手写时，或者按钮上面就会为空，因为在你没有按下按钮之前你的表单的值还为空，只有你在填写完表单的值，按下按钮才会更新表单的值

---

今天遇到了一个业务逻辑上的问题:

业务逻辑：主页上查询工资表记录，但并不是查询的表，每次在主页上生成工资记录都是在其他表中查询当月的相关信息(奖金信息，补贴信息和考勤记录等)然后把记录添加到工资表中，如果有在本月有对应员工的工资记录那么知识修改，如果没有，则添加。

问题：现在要做一个修改备注信息，当你点击修改后重新加载页面，但因为重新加载页面就又会执行上述业务逻辑，那么你修改的备注信息就又会因为有对应员工存在而修改成原始记录。

解决：在生成工资记录的时候可以不添加备注信息。或者在数据库中查询到备注，在因有工资记录而全部修改的时候吧备注修改为数据库中的备注。

而在执行修改操作时，修改后的信息就会被保存到数据库中，然后重新加载时因为会判断数据库中是否已存在本月员工信息而在修改时获取数据库的备注信息进行修改，也就是修改成相同的信息，可以等于没有修改。而如果不修改的话因为业务做的是全部的信息都会对应生成，remark会生成空，那么修改操作因为每一次重载而失效。

还有如果数据库字段是非空，而SSH中实体设置为不为空也会出现查询不出数据的错误。

**总结一下:**也就是说我用的是笨方法，因为时效性每次查询数据前都会更新一次数据，所有字段都会被查询到的别的表的数据添加或者是更新，而备注则是默认添加的无，在执行修改操作后会重新重载一次数据，那么你修改的数据就又会变成了默认的0，此时如果表中已存在本月的员工对象，那么获取表中备注信息，把要添加或更新的备注信息“无”改为数据库中获取的数据。就是把本来的数据修改成本来的数据。（具体工资管理系统）